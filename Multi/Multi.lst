MPASM  5.42                         MULTI.ASM   1-31-2013  18:53:44         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;***********************************************************************************************
                      00002 ; Multi.asm
                      00003 ; Автоколебательный  мультивибратор.
                      00004 ; PIC16F84A      Кварц 4 мГц.
                      00005 ;===============================================================================================
                      00006             LIST        p=16F84A    ; Установка типа микроконтроллера.
2007   3FF1           00007             __CONFIG    03FF1H      ; Бит защиты выключен, WDT выключен, 
                      00008                                     ; стандартный XT - генератор.
                      00009 ;===============================================================================================
                      00010 ; Определение  положения  регистров  специального  назначения.
                      00011 ;===============================================================================================
  00000003            00012 Status      equ         03h         ; Регистр выбора банка.
  00000006            00013 TrisB       equ         06h         ; Регистр выбора направления работы выводов порта В.
  00000006            00014 PortB       equ         06h         ; Регистр управления защелками порта В.
                      00015 ;===============================================================================================
                      00016 ; Определение  названия  и  положения  регистров  общего  назначения.
                      00017 ;===============================================================================================
  0000000C            00018 Sec         equ         0Ch         ; Счетчик времени полупериода.
                      00019 ;===============================================================================================
                      00020 ; Определение места размещения результатов операций.
                      00021 ;===============================================================================================
  00000001            00022 F           equ         1           ; Результат направить в регистр.
                      00023 ;===============================================================================================
                      00024             org         0           ; Начать выполнение программы с адреса 0 PC.
0000   2???           00025             goto        Start       ; Переход в ПП Start.
                      00026 
                      00027 
                      00028 ;***********************************************************************************************
                      00029 ;                          Текст рабочей части программы.
                      00030 ;***********************************************************************************************
                      00031 ; Установка направления работы RB0 - на выход.
                      00032 ;-----------------------------------------------------------------------------------------------
0001   1683           00033 Start       bsf         Status,5    ; Перейти в 1-й банк (установить в 1 5-й бит
                      00034                                     ; регистра Status).
0002   3000           00035             movlw       .0          ; Записать константу 0 в аккумулятор (W).
0003   0086           00036             movwf       TrisB       ; Скопировать 0 из W в регистр TrisB.
                      00037 
0004   1283           00038             bcf         Status,5    ; Перейти в 0-й банк (установить в 0 5-й бит
                      00039                                     ; регистра Status).
                      00040 ;-----------------------------------------------------------------------------------------------
                      00041 ; Определение времени полупериода (закладка константы в регистр Sec).
                      00042 ;-----------------------------------------------------------------------------------------------
0005   3020           00043             movlw       .32         ; Записать в регистр W константу .32
0006   008C           00044             movwf       Sec         ; Скопировать .32 из W в регистр Sec.
                      00045 ;-----------------------------------------------------------------------------------------------
                      00046 ; Формирование на выводе RB0 нулевого уровня.
                      00047 ;-----------------------------------------------------------------------------------------------
0007   1006           00048             bcf         PortB, 0    ; Установить на выходе защелки RB0 ноль.
                      00049 
0008   0000           00050             nop                     ; Калибровочный машинный цикл.
0009   0000           00051             nop                     ; -------------"--------------
000A   0B8C           00052 Pause_1     decfsz      Sec,F       ; Декремент содержимого регистра Sec с помещением резуль-
000B   2???           00053             goto        Pause_1     ; тата декремента в этот же регистр.
MPASM  5.42                         MULTI.ASM   1-31-2013  18:53:44         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00054                                     ; Если этот результат не=0, то осуществляется переход
                      00055                                     ; в ПП Pause_1 ("закольцовка" в этой ПП).
                      00056                                     ; Если =0, то программа исполняется далее.
                      00057 ;-----------------------------------------------------------------------------------------------
                      00058 ; Определение времени полупериода (закладка константы в регистр Sec).
                      00059 ;-----------------------------------------------------------------------------------------------
000C   301E           00060             movlw       .30         ; Записать в регистр W константу .30
000D   008C           00061             movwf       Sec         ; Скопировать .30 из W в регистр Sec.
                      00062 ;-----------------------------------------------------------------------------------------------
                      00063 ; Формирование на выводе RB0 единичного уровня.
                      00064 ;-----------------------------------------------------------------------------------------------
000E   1406           00065             bsf         PortB,0     ; Установить на выходе защелки RB0 единицу.
                      00066 
000F   0000           00067             nop                     ; То же самое, что и для нулевого уровня,
0010   0000           00068             nop                     ; только "закольцовка" происходит в ПП Pause_2.
0011   0B8C           00069 Pause_2     decfsz      Sec,F       ; ------------------"-------------------
0012   2???           00070             goto        Pause_2     ; ------------------"-------------------
                      00071 
0013   2???           00072             goto        Start       ; Переход на новый полный цикл программы.
                      00073 ;***********************************************************************************************        
                                            
3FF1                  00074             end                     ; Директива конца программы (всегда последняя снизу).               
                                           
MPASM  5.42                         MULTI.ASM   1-31-2013  18:53:44         PAGE  3


SYMBOL TABLE
  LABEL                             VALUE 

F                                 00000001
Pause_1                           0000000A
Pause_2                           00000011
PortB                             00000006
Sec                               0000000C
Start                             00000001
Status                            00000003
TrisB                             00000006
__16F84A                          00000001

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

